{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MihaiPopa\\\\WebstormProjects\\\\video-player-application\\\\src\\\\components\\\\VideoPlayer.js\";\nimport React, { useEffect, useRef } from 'react';\nimport shaka from 'shaka-player';\nimport ProgressBar from './ProgressBar';\nimport SkipButtons from './SkipButtons';\nconst VideoPlayer = () => {\n  const videoRef = useRef(null);\n  const playerRef = useRef(null);\n  useEffect(() => {\n    const initPlayer = async () => {\n      try {\n        // Initialize Shaka Player\n        await shaka.polyfill.installAll();\n        if (!shaka.Player.isBrowserSupported()) {\n          console.error('Browser does not support Shaka Player');\n          return;\n        }\n        const player = new shaka.Player(videoRef.current);\n        playerRef.current = player;\n\n        // Attach error event listener\n        player.addEventListener('error', onErrorEvent);\n\n        // Configure adaptive streaming\n        player.configure({\n          abr: {\n            // Set the default video quality\n            defaultBandwidthEstimate: 500000 // Example: 500 Kbps\n          }\n        });\n\n        // Load the video content\n        await player.load('https://d3ukqbhrqb4xnt.cloudfront.net/share_videos/6e95f9a732a74664a4982adf4b808500/e8ffab99-e494-495d-8b21-787e95f9672d/211115200114.m3u8');\n\n        // Autoplay the video\n        videoRef.current.play();\n      } catch (error) {\n        console.error('Error initializing the video player:', error);\n      }\n    };\n    initPlayer();\n    return () => {\n      if (playerRef.current) {\n        // Clean up the player and event listeners\n        playerRef.current.removeEventListener('error', onErrorEvent);\n        playerRef.current.destroy();\n      }\n    };\n  }, []);\n  const onErrorEvent = event => {\n    console.error('Error occurred:', event.detail);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    ref: videoRef,\n    className: \"shaka-video\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(ProgressBar, {\n    player: playerRef.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(SkipButtons, {\n    player: playerRef.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }));\n};\nexport default VideoPlayer;","map":{"version":3,"names":["React","useEffect","useRef","shaka","ProgressBar","SkipButtons","VideoPlayer","videoRef","playerRef","initPlayer","polyfill","installAll","Player","isBrowserSupported","console","error","player","current","addEventListener","onErrorEvent","configure","abr","defaultBandwidthEstimate","load","play","removeEventListener","destroy","event","detail","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref"],"sources":["C:/Users/MihaiPopa/WebstormProjects/video-player-application/src/components/VideoPlayer.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport shaka from 'shaka-player';\nimport ProgressBar from './ProgressBar';\nimport SkipButtons from './SkipButtons';\n\nconst VideoPlayer = () => {\n\tconst videoRef = useRef(null);\n\tconst playerRef = useRef(null);\n\n\tuseEffect(() => {\n\t\tconst initPlayer = async () => {\n\t\t\ttry {\n\t\t\t\t// Initialize Shaka Player\n\t\t\t\tawait shaka.polyfill.installAll();\n\t\t\t\tif (!shaka.Player.isBrowserSupported()) {\n\t\t\t\t\tconsole.error('Browser does not support Shaka Player');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst player = new shaka.Player(videoRef.current);\n\t\t\t\tplayerRef.current = player;\n\n\t\t\t\t// Attach error event listener\n\t\t\t\tplayer.addEventListener('error', onErrorEvent);\n\n\t\t\t\t// Configure adaptive streaming\n\t\t\t\tplayer.configure({\n\t\t\t\t\tabr: {\n\t\t\t\t\t\t// Set the default video quality\n\t\t\t\t\t\tdefaultBandwidthEstimate: 500000, // Example: 500 Kbps\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t// Load the video content\n\t\t\t\tawait player.load('https://d3ukqbhrqb4xnt.cloudfront.net/share_videos/6e95f9a732a74664a4982adf4b808500/e8ffab99-e494-495d-8b21-787e95f9672d/211115200114.m3u8');\n\n\t\t\t\t// Autoplay the video\n\t\t\t\tvideoRef.current.play();\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error initializing the video player:', error);\n\t\t\t}\n\t\t};\n\n\t\tinitPlayer();\n\n\t\treturn () => {\n\t\t\tif (playerRef.current) {\n\t\t\t\t// Clean up the player and event listeners\n\t\t\t\tplayerRef.current.removeEventListener('error', onErrorEvent);\n\t\t\t\tplayerRef.current.destroy();\n\t\t\t}\n\t\t};\n\t}, []);\n\n\tconst onErrorEvent = (event) => {\n\t\tconsole.error('Error occurred:', event.detail);\n\t};\n\n\treturn (\n\t\t<div className=\"video-player\">\n\t\t\t<video ref={videoRef} className=\"shaka-video\"></video>\n\t\t\t<ProgressBar player={playerRef.current} />\n\t\t\t<SkipButtons player={playerRef.current} />\n\t\t</div>\n\t);\n};\n\nexport default VideoPlayer;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAOC,KAAK,MAAM,cAAc;AAChC,OAAOC,WAAW,MAAM,eAAe;AACvC,OAAOC,WAAW,MAAM,eAAe;AAEvC,MAAMC,WAAW,GAAGA,CAAA,KAAM;EACzB,MAAMC,QAAQ,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMM,SAAS,GAAGN,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACf,MAAMQ,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACH;QACA,MAAMN,KAAK,CAACO,QAAQ,CAACC,UAAU,CAAC,CAAC;QACjC,IAAI,CAACR,KAAK,CAACS,MAAM,CAACC,kBAAkB,CAAC,CAAC,EAAE;UACvCC,OAAO,CAACC,KAAK,CAAC,uCAAuC,CAAC;UACtD;QACD;QAEA,MAAMC,MAAM,GAAG,IAAIb,KAAK,CAACS,MAAM,CAACL,QAAQ,CAACU,OAAO,CAAC;QACjDT,SAAS,CAACS,OAAO,GAAGD,MAAM;;QAE1B;QACAA,MAAM,CAACE,gBAAgB,CAAC,OAAO,EAAEC,YAAY,CAAC;;QAE9C;QACAH,MAAM,CAACI,SAAS,CAAC;UAChBC,GAAG,EAAE;YACJ;YACAC,wBAAwB,EAAE,MAAM,CAAE;UACnC;QACD,CAAC,CAAC;;QAEF;QACA,MAAMN,MAAM,CAACO,IAAI,CAAC,4IAA4I,CAAC;;QAE/J;QACAhB,QAAQ,CAACU,OAAO,CAACO,IAAI,CAAC,CAAC;MACxB,CAAC,CAAC,OAAOT,KAAK,EAAE;QACfD,OAAO,CAACC,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC7D;IACD,CAAC;IAEDN,UAAU,CAAC,CAAC;IAEZ,OAAO,MAAM;MACZ,IAAID,SAAS,CAACS,OAAO,EAAE;QACtB;QACAT,SAAS,CAACS,OAAO,CAACQ,mBAAmB,CAAC,OAAO,EAAEN,YAAY,CAAC;QAC5DX,SAAS,CAACS,OAAO,CAACS,OAAO,CAAC,CAAC;MAC5B;IACD,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMP,YAAY,GAAIQ,KAAK,IAAK;IAC/Bb,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEY,KAAK,CAACC,MAAM,CAAC;EAC/C,CAAC;EAED,oBACC5B,KAAA,CAAA6B,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5BpC,KAAA,CAAA6B,aAAA;IAAOQ,GAAG,EAAE9B,QAAS;IAACuB,SAAS,EAAC,aAAa;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAQ,CAAC,eACtDpC,KAAA,CAAA6B,aAAA,CAACzB,WAAW;IAACY,MAAM,EAAER,SAAS,CAACS,OAAQ;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC1CpC,KAAA,CAAA6B,aAAA,CAACxB,WAAW;IAACW,MAAM,EAAER,SAAS,CAACS,OAAQ;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACrC,CAAC;AAER,CAAC;AAED,eAAe9B,WAAW"},"metadata":{},"sourceType":"module"}