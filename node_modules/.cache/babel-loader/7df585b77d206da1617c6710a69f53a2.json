{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MihaiPopa\\\\WebstormProjects\\\\video-player-application\\\\src\\\\components\\\\ProgressBar.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nconst ProgressBar = _ref => {\n  let {\n    videoRef\n  } = _ref;\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const progressRef = useRef(null);\n  useEffect(() => {\n    const handleTimeUpdate = () => {\n      if (videoRef.current) {\n        setCurrentTime(videoRef.current.currentTime);\n      }\n    };\n    const handleLoadedMetadata = () => {\n      if (videoRef.current) {\n        setDuration(videoRef.current.duration);\n      }\n    };\n    if (videoRef.current) {\n      videoRef.current.addEventListener('timeupdate', handleTimeUpdate);\n      videoRef.current.addEventListener('loadedmetadata', handleLoadedMetadata);\n    }\n    return () => {\n      if (videoRef.current) {\n        videoRef.current.removeEventListener('timeupdate', handleTimeUpdate);\n        videoRef.current.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      }\n    };\n  }, [videoRef]);\n  const handleProgressBarClick = event => {\n    const progress = progressRef.current;\n    const progressWidth = progress.offsetWidth;\n    const clickPosition = event.clientX - progress.getBoundingClientRect().left;\n    const clickPercentage = clickPosition / progressWidth * 100;\n    const seekTime = clickPercentage * videoRef.current.duration / 100;\n    console.log(progress, progressWidth, clickPosition, clickPercentage, seekTime, videoRef.current.duration);\n    videoRef.current.currentTime = seekTime;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar\",\n    onClick: handleProgressBarClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress\",\n    ref: progressRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"progress-bar-inner\",\n    style: {\n      width: `${currentTime / duration * 100}%`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }));\n};\nexport default ProgressBar;","map":{"version":3,"names":["React","useState","useEffect","useRef","ProgressBar","_ref","videoRef","currentTime","setCurrentTime","duration","setDuration","progressRef","handleTimeUpdate","current","handleLoadedMetadata","addEventListener","removeEventListener","handleProgressBarClick","event","progress","progressWidth","offsetWidth","clickPosition","clientX","getBoundingClientRect","left","clickPercentage","seekTime","console","log","createElement","className","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","style","width"],"sources":["C:/Users/MihaiPopa/WebstormProjects/video-player-application/src/components/ProgressBar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\n\r\nconst ProgressBar = ({ videoRef }) => {\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [duration, setDuration] = useState(0);\r\n    const progressRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const handleTimeUpdate = () => {\r\n            if (videoRef.current) {\r\n                setCurrentTime(videoRef.current.currentTime);\r\n            }\r\n        };\r\n\r\n        const handleLoadedMetadata = () => {\r\n            if (videoRef.current) {\r\n                setDuration(videoRef.current.duration);\r\n            }\r\n        };\r\n\r\n        if (videoRef.current) {\r\n            videoRef.current.addEventListener('timeupdate', handleTimeUpdate);\r\n            videoRef.current.addEventListener('loadedmetadata', handleLoadedMetadata);\r\n        }\r\n\r\n        return () => {\r\n            if (videoRef.current) {\r\n                videoRef.current.removeEventListener('timeupdate', handleTimeUpdate);\r\n                videoRef.current.removeEventListener('loadedmetadata', handleLoadedMetadata);\r\n            }\r\n        };\r\n    }, [videoRef]);\r\n\r\n    const handleProgressBarClick = (event) => {\r\n        const progress = progressRef.current;\r\n        const progressWidth = progress.offsetWidth;\r\n        const clickPosition = event.clientX - progress.getBoundingClientRect().left;\r\n        const clickPercentage = (clickPosition / progressWidth) * 100;\r\n        const seekTime = (clickPercentage * videoRef.current.duration) / 100;\r\n        console.log(progress, progressWidth, clickPosition, clickPercentage, seekTime, videoRef.current.duration)\r\n        videoRef.current.currentTime = seekTime;\r\n    };\r\n\r\n    return (\r\n        <div className=\"progress-bar\" onClick={handleProgressBarClick}>\r\n            <div className=\"progress\" ref={progressRef} />\r\n            <div className=\"progress-bar-inner\" style={{ width: `${(currentTime / duration) * 100}%` }}></div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProgressBar;"],"mappings":"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"},"metadata":{},"sourceType":"module"}